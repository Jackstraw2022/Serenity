# CHANGELOG 2019

This changelog documents all Serenity versions published in the year 2019 (versions 3.8.4 through 3.9.14).

## 3.9.14 (2019-12-23)

Features:
  - Int64Field should serialize big values into strings just like JsonSafeInt64Converter to avoid loss of precision due to javascript JSON deserialization
  - call ValidatePermissions in DeleteRequestHandler just before ValidateRequest, so that Request can be accessible there, closes #4785

Bugfixes:
  - latest changes for permissions in Dialog.scriban and Grid.scriban had syntax errors.

## 3.9.13 (2019-12-10)
Features:
  - generate TS code for types with NestedPermissionKeys attribute
  - added ScriptSkip attribute to optionally skip code generation for some types and service methods
  - converted quick filter bar into a separate component, so that it can be used without a data grid
  - added ability for toolbar buttons to control their own visibility and disabled states through updateInterface handler if a visible/disabled option as a function is set
  - added readOnly property and reated interface methods to datagrid, updateInterface calls toolbar.updateInterface for new toolbutton disabled/visible methods
  - added getInsertPermission method to EntityGrid, transfer readOnly property to opened dialogs if any
  - implemented readOnly property for entity dialog
  - added useViewMode method which when true opens entity dialog in view mode initially and shows an edit button
  - added getInsertPermission, getUpdatePermission, getDeletePermission methods which controls button visibility to EntityDialog
  - added EditorUtils.setContainerReadOnly method which is used by entity dialog to make all form editors readonly in readonly/view modes
  - server typings generator generates row permissions in Row.ts
  - use permissions in grid/dialog/row typings generated by sergen
  
Bugfixes:
  - jquery ui tabsshow event is now tabsactivate

## 3.9.12 (2019-11-12)

Features:
  - add support for NOT "!" and Parenthesis "()" to LogicOperatorPermissionService
  - activated thumbnail generation in .NET Core using System.Drawing.Common, make sure to run "sudo apt install libc6-dev " and "sudo apt install libgdiplus" if using Linux
  - update TypeScript to 3.6.4, this is now the recommended version 
  
Bugfixes:
  - use occurred instead of occured in error messages
  - fileSizeDisplay inconsistency
  - file upload editor, maxsize only works for images
  - wait cursor not removed after columnpicker quick search
  - datagrid.itemAt should return an object of TItem type, not any.

## 3.9.11 (2019-08-26)

Features:
  - removing mono.cecil from tooling, please take latest CodeGenerationHelpers.ttinclude from Serene/StartSharp that doesn't require Cecil reference
  - add option to show checkboxes only in some rows for GridRowSelectionMixin

Bugfixes:
  - fix bug with clearing slick event handlers
  - fix property grid item orders might get messed up, if tabs and categories are in mixed order, e.g. same category name used in a tab, but separate locations

## 3.9.10 (2019-07-30)

Features:
  - introduce EntityGridDialog which is a mixture of an EntityGrid and EntityDialog, than allows editing 
    records in a side panel on grid `(StartSharp)`
  - complete missing XML docs for Serenity.Data
  - change error message to suggest IgnoreName instead of NotMapped for skipping property name check with CheckNames
  - update packages in node based sergen cli
  - added a toggle method to Serenity.TabsExtensions
  
Bugfixes:
  - if user changed CustomTemplates via the config UI, it was not used properly in sergen until restart
  - handle issue with template registration when a project directory has a Modules parent directory in full path
  - **Important!** fluentmigrator output might reveal connection string in exception message when migrations fail. 
    please set CustomErrors=RemoteOnly in your web.config, and ASPNETCORE_ENVIRONMENT to PRODUCTION for .NET Core. 
	Also apply changes in SiteInitialization.DataMigrations.cs and DataMigrations.cs.

## 3.9.9 (2019-05-24)

Features:
  - SqlSettings.DefaultCommandTimeout global setting to set command timeouts, and connection.SetCommandTimeout extension method to set timeout for a connection (only works with WrappedConnection)
  - made set of criteria operator constants available in script side as Serenity.Criteria.Operator
  - complete missing XML documentation for Serenity.Core

## 3.9.8 (2019-04-16)

Bugfixes:
  - sergen nuget package missing System.Threading.Tasks.Extensions.dll used by scriban 2.0

## 3.9.7 (2019-04-15)

Features:
  - update to asp.net core 2.2, make sure you install 2.2 sdk for your Visual Studio version (SDK 2.2.106 for VS 2017, SDK 2.2.203 for VS 2019 as of writing), updated many packages including Newtonsoft.Json, FakeItEasy, Microsoft.AspNet.Mvc
  - add better error handling when a property has `[LeftJoin]` or `[InnerJoin]` attribute but no `[ForeignKey]` attribute.

## 3.9.6 (2019-04-05)

Features:
  - added annotation type support, which allows separating undesired dependencies, like UI related attributes from row properties into a annotation class.
  - added AutoColumnWidthMixin which auto sizes grid columns based on content width `(StartSharp)`
  - improve responsive layout algorithm for data grids in mobile devices
  - recommended method to ignore checking a property name when form/columns class has a BasedOnRow(CheckNames = true) is now `[IgnoreName]`, not `[NotMapped]` attribute, though old one still works for compability.

## 3.9.5 (2019-03-27)

Features:
  - handle toastr invalid path casing
  
## 3.9.4 (2019-03-27)

Bugfixes:
  - fix syntax error in DotnetCorePathFinder
  
## 3.9.3 (2019-03-27)

Features:
  - better handling for nuget locations in linux / mac

## 3.9.2 (2019-03-27)

Features:
  - skip packages without id for dotnet sergen restore, e.g. Microsoft.AspNetCore.App

## 3.9.1 (2019-03-27)

Features:
  - check runtimeconfig.dev.json for nuget folders (attempting to fix linux / mac transform issue)

## 3.9.0 (2019-03-15)

Features:
  - added basic attributes to support plugin architecture (work in progress...)
  - **`[Breaking Change]`** Serenity.Web NuGet package no longer contains / has reference to Serenity script, css and image files, so you need to manually install Serenity.Scripts NuGet package in your project after updating. 
  Also update Serenity.Web.Assets package. If using AspNetCore add reference to Serenity.Web.Assets and Serenity.Web.Scripts packages in CSPROJ file next to Serenity.Web reference.

Bugfixes:
  - StackExchange.Exceptional delete, protect etc. actions wasn't working in ASP.NET Core properly due to AntiForgery system `(StartSharp)`

## 3.8.7 (2019-02-27)

Features:
  - update bootstrap dependency to 3.4.1

## 3.8.6 (2019-02-09)

Features:
  - modern flat design for grids, dialogs and toolbars `(StartSharp)`
  - when there are items without a tab, instead of showing an empty tab caption, create those property items before the tab (thanks @dfaruque)
  - ability to register data scripts using classes like lookup scripts
  - row field value name indexed get access should also look field by property name and also in dictionary data if available
  - made target optional for PropertyGrid.save and it returns the new/passed target object. added value property to PropertyGrid.
  
## 3.8.5 (2019-01-03)

Bugfixes:
  - ensure not-mapped fields that are populated by MasterDetailRelation or LinkingSetRelation are only loaded if explicitly included (e.g. column is visible) for ListRequestHandler and loaded in default Details mode for RetrieveRequestHandler

## 3.8.4 (2019-01-02)

Bugfixes:
  - fix inplace add script error in lookup editor